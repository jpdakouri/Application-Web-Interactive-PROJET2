<div id="canvas-container">
    <div
        class="resizer middle-right"
        [ngStyle]="{ left: width + 'px', top: height / 2 - 2.5 + 'px' }"
        (mousedown)="onMiddleRightResizerClick()"
        matTooltip="W : {{ width }} px"
        matTooltipPosition="right"
    ></div>

    <div
        class="resizer bottom-right"
        [ngStyle]="{ left: width + 'px', top: height + 'px' }"
        (mousedown)="onBottomRightResizerClick()"
        matTooltip="W : {{ width }} px | H : {{ height }} px"
        matTooltipPosition="below"
    ></div>

    <div
        class="resizer bottom-middle"
        [ngStyle]="{ left: width / 2 - 2.5 + 'px', top: height + 'px' }"
        (mousedown)="onMiddleBottomResizerClick()"
        matTooltip="H : {{ height }} px"
        matTooltipPosition="below"
    ></div>

    <div *ngIf="eraserActive" [ngStyle]="eraserCursor"></div>

    <canvas
        id="canvas"
        #baseCanvas
        [attr.width]="width"
        [attr.height]="height"
        [style.cursor]="isCurrentTool(toolsNames.Eraser) ? 'none' : 'crosshair'"
    ></canvas>
    <canvas
        id="previewLayer"
        #previewCanvas
        [attr.width]="width"
        [attr.height]="height"
        [style.cursor]="isCurrentTool(toolsNames.Eraser) ? 'none' : 'crosshair'"
    ></canvas>

    <canvas id="gridLayer" #gridCanvas [attr.width]="width" [attr.height]="height"></canvas>
    <div
        id="canvasResizerPreview"
        #canvasResizerPreview
        *ngIf="canvasResizerService.isResizing()"
        [ngStyle]="{ width: getPreviewCanvasSize().x + 'px', height: getPreviewCanvasSize().y + 'px' }"
    ></div>

    <canvas
        #selectedArea
        [attr.width]="width"
        [attr.height]="height"
        [ngStyle]="{ border: selectionEllipseService.selectionActive || selectionRectangleService.selectionActive ? '1px solid' : 'none' }"
    >
    </canvas>

    <!-- <textarea id="w3review" name="w3review" rows="3" cols="50" style="position: absolute; z-index: 111; font-size: xx-large">
        At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.
        </textarea
    > -->
    <!-- <textarea
        class="textbox-editor"
        style="
            position: absolute;
            inset: 0px;
            padding: 0px;
            margin: 0px;
            border: 0px;
            resize: none;
            overflow: hidden;
            transform: scale(1);
            transform-origin: left top;
            width: 733px;
            height: 318px;
            font-family: Courier;
            font-size: 72px;
            font-weight: normal;
            font-style: normal;
            text-decoration: none;
            line-height: 120px;
            color: rgb(0, 0, 0);
            background: rgb(255, 255, 255);
        "
    ></textarea> -->

    <div
        class="on-canvas-object textbox"
        touch-action="none"
        style="cursor: url('images/cursors/move.png') 8 8, move; position: absolute; left: 103px; top: 193px; width: 641px; height: 452px"
    >
        <!-- <canvas width="641" height="452" style="pointer-events: none; transform: scale(1); transform-origin: left top"></canvas -->
        <textarea class="textbox-editor"
                   [style]="{ 'font-size': textService.fontSize + 'px',
                              'font-family': textService.fontFace,
                              'text-align': textService.textAlign,
                              overflow : 'hidden',
                              'font-weight' : textService.getSingleStyle('bold'),
                              'font-style' : textService.getSingleStyle('italic'),
                              'text-decoration': textService.getTextDecoration(),
                              'color': textService.currentColorService.getPrimaryColorRgb(),
                              'border-style': 'dashed',
                              'width': 733 + 'px',
                              'height': 318 + 'px',
                              'position': 'absolute'}"></textarea>

<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/nesw-resize.png') 16 16, ne-resize; left: 639.5px; top: -2px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/ns-resize.png') 16 16, n-resize; left: 319px; top: -2px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/nwse-resize.png') 16 16, nw-resize; left: -2px; top: -2px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/ew-resize.png') 16 16, w-resize; left: -2px; top: 224.5px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/nesw-resize.png') 16 16, sw-resize; left: -2px; top: 450.5px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/ns-resize.png') 16 16, s-resize; left: 319px; top: 450.5px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/nwse-resize.png') 16 16, se-resize; left: 639.5px; top: 450.5px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->
<!--        <div-->
<!--            class="handle"-->
<!--            touch-action="none"-->
<!--            style="cursor: url('images/cursors/ew-resize.png') 16 16, e-resize; left: 639.5px; top: 224.5px; max-width: 320.5px; max-height: 226px"-->
<!--        ></div>-->

    </div>
    <div
        class="resizer selection-box-middle-right"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSize().x + 'px',
            top: getSelectedAreaSize().y / 2 - 2.5 + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-bottom-right"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSize().x + 'px',
            top: getSelectedAreaSize().y + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-middle-bottom"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSize().x / 2 - 2 + 'px',
            top: getSelectedAreaSize().y + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-top-left"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: -2 + 'px',
            top: -2 + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-top-middle"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSize().x / 2 - 2 + 'px',
            top: -2 + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-top-right"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSize().x - 2 + 'px',
            top: -2 + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-middle-left"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: -2 + 'px',
            top: getSelectedAreaSize().y / 2 + 2 + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-bottom-left"
        [hidden]="!selectionEllipseService.isSelectionDone"
        [ngStyle]="{
            left: -2 + 'px',
            top: getSelectedAreaSize().y - 2 + 'px',
            transform: 'translate(' + getTopLeftCorner().x + 'px, ' + getTopLeftCorner().y + 'px)'
        }"
        *ngIf="selectionEllipseService.selectionActive"
    ></div>

    <!-- black squares for rectangle -->
    <div
        class="resizer selection-box-middle-right"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSizeRectangle().x + 'px',
            top: getSelectedAreaSizeRectangle().y / 2 - 2.5 + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-bottom-right"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSizeRectangle().x + 'px',
            top: getSelectedAreaSizeRectangle().y + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-middle-bottom"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSizeRectangle().x / 2 - 2 + 'px',
            top: getSelectedAreaSizeRectangle().y + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-top-left"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: -2 + 'px',
            top: -2 + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-top-middle"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSizeRectangle().x / 2 - 2 + 'px',
            top: -2 + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-top-right"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: getSelectedAreaSizeRectangle().x - 2 + 'px',
            top: -2 + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-middle-left"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: -2 + 'px',
            top: getSelectedAreaSizeRectangle().y / 2 + 2 + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>

    <div
        class="resizer selection-box-bottom-left"
        [hidden]="!selectionRectangleService.isSelectionDone"
        [ngStyle]="{
            left: -2 + 'px',
            top: getSelectedAreaSizeRectangle().y - 2 + 'px',
            transform: 'translate(' + getTopLeftCornerRectangle().x + 'px, ' + getTopLeftCornerRectangle().y + 'px)'
        }"
        *ngIf="selectionRectangleService.selectionActive"
    ></div>
</div>
